<?xml version="1.0" encoding="UTF-8"?>


<!-- ==== #29. mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

	<insert id="test_insert">
		insert into spring_test1(no, name, writeday)
		values(101, '서영학', default) 
	</insert>
	
	
	<!--  !!!! 주의해야할 사항은 리턴 타입이 List<E> 이더라도 resultType은 E 으로 해야만 한다. !!!! -->
	<!--  package명까지 써야함. 안그러면 못찾음 -->
	
	
	<select id="test_select" resultType="com.spring.board.model.TestVO">
		select no, name, writeday
		from SPRING_TEST1
	</select>
	
	
	<!-- #### 중요 #### 
       HashMap 타입으로 매개변수를 받아온 것을 꺼내서 사용할때 
       1. 데이터로 사용할때는 #{key명} 이고,
       2. 식별자(테이블명, 컬럼명)로 사용할때는 ${key명} 이고,
       3. myBatis 에서 제공하는 if 엘리먼트나 choose 엘리먼트 안에서 사용할때는 
             그냥 <if test="key명"> <when test="key명"> 으로 사용한다. 
   -->
   
   
   <!--  === 파라미터로 Map이 들어오면 key값을 넣어주면됨 -->
	<insert id="test_insert_map" parameterType="HashMap">
		insert into spring_test1(no, name, writeday)
		values(#{no}, #{name}, default) 
	</insert>
	
	
	<!--  === 파라미터로 VO가 들어오면 입력해줄때 값은 #{get다음나오는 메소드명 인데 첫글자는 소문자} -->
	<insert id="test_insert_vo" parameterType="com.spring.board.model.TestVO">
		insert into spring_test1(no, name, writeday)
		values(#{no}, #{name}, default) 
	</insert>
	
	
		
</mapper>

<!-- ==== #29. 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 한다.) ==== -->